/* pnote_project_final/styles.css */

/* --- BIẾN MÀU (CSS VARIABLES) --- */
/* Việc dùng biến giúp bạn thay đổi toàn bộ theme của app rất dễ dàng */
:root {
    --primary-color: #4F8BF9; /* Màu xanh dương chính */
    --background-color: #FFFFFF; /* Màu nền chính (Sáng) */
    --secondary-bg-color: #F0F2F6; /* Màu nền phụ, vd: tin nhắn của bot */
    --text-color: #0d1117; /* Màu chữ chính */
    --sidebar-bg-color: #F8F9FA; /* Màu nền của thanh sidebar */
    --border-color: #E6E6E6; /* Màu của các đường viền */
}

/* --- CẤU HÌNH CHO DARK MODE --- */
/* Khi body có class="dark-mode", các biến này sẽ được áp dụng */
body.dark-mode {
    --primary-color: #589BFF;
    --background-color: #0d1117; /* Nền tối */
    --secondary-bg-color: #2a2d33; /* Nền phụ tối */
    --text-color: #e6edf3; /* Chữ sáng */
    --sidebar-bg-color: #161B22; /* Sidebar tối */
    --border-color: #30363d;
}

/* --- ÁP DỤNG BIẾN MÀU CHO TOÀN BỘ APP --- */
body {
    background-color: var(--background-color);
    color: var(--text-color);
}

/* --- THANH SIDEBAR --- */
/* [data-testid="stSidebar"] là selector của Streamlit cho sidebar */
[data-testid="stSidebar"] {
    background-color: var(--sidebar-bg-color);
    border-right: 1px solid var(--border-color);
}
[data-testid="stSidebar"] h1, [data-testid="stSidebar"] h2, [data-testid="stSidebar"] h3 {
    color: var(--text-color);
}

/* --- GIAO DIỆN CHAT --- */
/* Đây là phần quan trọng nhất để "lột xác" cho app */

/* Định dạng cho bong bóng chat */
[data-testid="stChatMessage"] {
    background: none;
    border: none;
    padding: 0;
    margin: 10px 0;
}

/* Bên trong bong bóng chat, nơi chứa nội dung text */
[data-testid="stChatMessage"] .st-emotion-cache-1c7y2kd {
    padding: 12px 16px;
    border-radius: 18px; /* Bo tròn góc */
    max-width: 85%; /* Tin nhắn không nên quá dài */
    box-shadow: 0 1px 2px rgba(0,0,0,0.05); /* Thêm bóng đổ nhẹ */
}

/* --- Tin nhắn của Bot (Assistant) --- */
[data-testid="stChatMessage"]:has(span[data-testid="chat-avatar-assistant"]) .st-emotion-cache-1c7y2kd {
    background-color: var(--secondary-bg-color);
    color: var(--text-color);
    float: left; /* Nằm bên trái */
}

/* --- Tin nhắn của Người dùng (User) --- */
[data-testid="stChatMessage"]:has(span[data-testid="chat-avatar-user"]) .st-emotion-cache-1c7y2kd {
    background-color: var(--primary-color);
    color: white;
    float: right; /* Nằm bên phải */
}

/* Dọn dẹp float để layout không bị vỡ */
[data-testid="stChatInput"] {
    clear: both;
}

/* Định dạng cho avatar icon */
span[data-testid="chat-avatar-assistant"], span[data-testid="chat-avatar-user"] {
    background-color: var(--secondary-bg-color);
    border-radius: 50%;
    padding: 4px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* --- CÁC THÀNH PHẦN KHÁC --- */
/* Nút bấm */
.stButton>button {
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: 8px;
}
.stButton>button:hover {
    background-color: var(--primary-color);
    color: white;
    opacity: 0.8;
}

/* Các Tabs */
.stTabs [data-baseweb="tab-list"] {
    border-bottom: 2px solid var(--border-color);
}
.stTabs [data-baseweb="tab-list"] button[aria-selected="true"] {
    border-bottom: 2px solid var(--primary-color);
    color: var(--primary-color);
}
