/* --- BIẾN MÀU CHO DARK MODE (XÁM-TRẮNG) --- */
body.dark-mode {
    --primary-color: #0084FF;
    --background-color: #1E1E1E;
    --secondary-bg-color: #2D2D2D; /* Hơi sáng hơn sidebar */
    --text-color: #EAEAEA;
    --sidebar-bg-color: #252526;
    --border-color: #444444;
}

/* --- ÁP DỤNG CHUNG --- */
body {
    background-color: var(--background-color) !important;
}

/* --- SIDEBAR (SLIDE) --- */
/* ĐÃ SỬA: Selector mạnh hơn để đảm bảo màu nền được áp dụng */
section[data-testid="stSidebar"] {
    background-color: var(--sidebar-bg-color) !important;
    border-right: 1px solid var(--border-color);
}
section[data-testid="stSidebar"] h1, 
section[data-testid="stSidebar"] h2, 
section[data-testid="stSidebar"] h3 {
    color: var(--text-color);
}

/* --- GIAO DIỆN CHAT --- */
/* Bong bóng chat */
[data-testid="stChatMessage"] {
    background: none; border: none; padding: 0; margin: 10px 0;
}
[data-testid="stChatMessageContent"] {
    padding: 12px 16px; border-radius: 18px; max-width: 85%;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
/* Tin nhắn của Bot */
[data-testid="stChatMessage"]:has(span[data-testid="chat-avatar-assistant"]) [data-testid="stChatMessageContent"] {
    background-color: var(--secondary-bg-color); color: var(--text-color);
}
/* Tin nhắn của Người dùng */
[data-testid="stChatMessage"]:has(span[data-testid="chat-avatar-user"]) [data-testid="stChatMessageContent"] {
    background-color: var(--primary-color); color: white;
}

/* --- TÙY CHỈNH KHÁC --- */
/* Làm cho khung nhập text area có nền tối */
textarea {
    background-color: var(--secondary-bg-color);
    color: var(--text-color);
}
