/* --- BIẾN MÀU (CSS VARIABLES) --- */
/* Đây là theme sáng mặc định (dù app sẽ ưu tiên theme tối) */
:root {
    --primary-color: #0078F2;
    --background-color: #FFFFFF;
    --secondary-bg-color: #F0F2F6;
    --text-color: #0d1117;
    --sidebar-bg-color: #F8F9FA;
    --border-color: #DEE2E6;
}

/* --- CẤU HÌNH CHO DARK MODE (XÁM-TRẮNG) --- */
body.dark-mode {
    --primary-color: #0084FF; /* Màu xanh sáng hơn trên nền tối */
    --background-color: #1E1E1E; /* Màu nền xám than (charcoal) */
    --secondary-bg-color: #333333; /* Màu nền phụ, vd: tin nhắn của bot */
    --text-color: #EAEAEA; /* Màu chữ trắng ngà, dễ chịu hơn trắng tinh */
    --sidebar-bg-color: #252526; /* Màu sidebar tối, hơi khác nền chính */
    --border-color: #444444; /* Màu viền tối */
}

/* --- ÁP DỤNG CHUNG --- */
body {
    background-color: var(--background-color) !important;
    color: var(--text-color);
}
h1, h2, h3, h4, h5, h6 {
    color: var(--text-color) !important;
}

/* --- SIDEBAR --- */
[data-testid="stSidebar"] {
    background-color: var(--sidebar-bg-color);
    border-right: 1px solid var(--border-color);
}

/* --- GIAO DIỆN CHAT --- */
/* Khung chứa cuộc trò chuyện */
[data-testid="stChatMessages"] {
    background-color: var(--background-color);
}
/* Bong bóng chat */
[data-testid="stChatMessage"] {
    background: none; border: none; padding: 0; margin: 10px 0;
}
[data-testid="stChatMessage"] > div[data-testid="stChatMessageContent"] {
    padding: 12px 16px; border-radius: 18px; max-width: 85%;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
/* Tin nhắn của Bot */
[data-testid="stChatMessage"]:has(span[data-testid="chat-avatar-assistant"]) > div[data-testid="stChatMessageContent"] {
    background-color: var(--secondary-bg-color); color: var(--text-color); float: left;
}
/* Tin nhắn của Người dùng */
[data-testid="stChatMessage"]:has(span[data-testid="chat-avatar-user"]) > div[data-testid="stChatMessageContent"] {
    background-color: var(--primary-color); color: white; float: right;
}
/* Dọn dẹp float để layout không bị vỡ */
[data-testid="stChatInput"] { clear: both; }

/* --- CÁC THÀNH PHẦN KHÁC --- */
.stButton>button {
    border-radius: 8px;
    border: 1px solid var(--primary-color);
}
.stTabs [data-baseweb="tab-list"] { border-bottom: 2px solid var(--border-color); }
.stTabs [data-baseweb="tab-list"] button[aria-selected="true"] {
    border-bottom: 2px solid var(--primary-color); color: var(--primary-color);
}
